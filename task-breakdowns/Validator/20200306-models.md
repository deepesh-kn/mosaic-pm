# Models
**Please note that this is a draft version**

TODO: Description to be updated


- Metachain
    - metachainId - PK
    - origin chain id (it can be constant)
    - anchorGA
    - mosaic version
    - consensus address

- Core
    - coreGA - PK
    - metachainId
    - Lifetime status
    - Core status
    - open metablock height
    - minimum validator count
    - maximum validator count
    - gasTarget
    - genesisOriginObservationBlockNumber
    - epoch (TODO: we should include this)
    - domainSeparator (TODO: we should include this)


- UntrustedEndpoint
    - endpoint - PK
    - validatorGA
    - serviceType
    - metachainId

- Genesis(files)
    - coreGA - PK
    - CID

- Committee
    - committeeGA - PK
    - metablockHash
    - ? metachainId
    - <s> formation height</s>
    - seed
    - status
    - decision
    - size
    - quorum

- Validator
    - validatorGA - PK
    - coreGA
    - beginHeight
    - endHeight
    - reputation
    - status
    - withdrawal block height

- Link
    - voteMessageHash - PK
    - parent
    - isLeaf
    - targetBlockNumber
    - targetBlockHash
    - targetFinalizationStatus
    - sourceTransitionHash
    - proposedMetablockHeight
    - metachainId
    - coreGA
    - relativeSelfDynasty

- Metablock
    - metablockHash - PK
    - metachainId
    - metablockHeight
    - kernelHash
    - transitionHash
    - sourceBlockHash
    - targetBlockHash
    - sourceBlockNumber
    - targetBlockNumber
    - round
    - roundMetablockNumber

- Message
    - message hash
    - message type
      - Deposit
      - Withdraw
      - Open new kernel
      - new ERC20Gateway
      - activate gateway
    - intent hash
    - source status
      - Undeclared
      - Declared
    - target status
      - Undeclared
      - Declared
    - fee gas price
    - fee gas limit
    - source gateway global address
    - source declaration block height

- SignedVoteMessage
    - signature - PK
    - validator ? : TODO: discuss this
    - voteMessageHash
    - CoreSealInclusion
        - Unknown
        - Included
        - Rejected
    - ProtocoreSealInclusion
        - Unknown
        - Included
        - Rejected

- Gateway
    - Gateway global address - PK
    - Remote gateway global address
    - Gateway type
        - consensus
        - most
        - erc20
    - Destination global address
        - Consensus
        - Most
        - erc20
        - NFT
    - Remote gateway last proven block number
    - AnchorGA

- ValidatorDepositIntent

- DepositIntent
    - Deposit intent hash
    - message hash
    - deposit amount
    - beneficiary

- GenesisDepositIntent
    - Deposit intent hash
    - message hash
    - deposit amount
    - beneficiary

- WithdrawIntent
    - withdraw intent hash
    - message hash
    - amount
    - beneficiary

- OpenKernelIntent
    - open kernel intent hash - PK
    - message hash
    - kernel height
    - kernel hash

- AnchoredStateRoots
    - StateRootProviderGA - PK
    - latestAnchoredBlockNumber

    - Anchor can have multiple gateways
    - Get gateway address for the anchor from Gateway model

- Member
    - memberGA - PK
    - validatorGA
    - metablockHash (Committee identifier)
    - CalculatedRank
        - position where validator should be there
        - it should not be current position
    - status
        - Missing
        - Entered
        - Committed
        - Revealed
        - Ejected
    - position

- Protocore
    - protocoreGA - PK
    - coreGA
    - openMetablockHeight

- Kernel
    - kernelHash
    - coreGA
    - (metachain Id)
    - Kernel height
    - parent
    - updated validators
        - json type
        - delta validators
        - delta reputation
    - gas target
    - status - it's not in contract
        - opened(core)
        - declared(core)
        - confirmed(protocore)
        - CoOpened(protocore)
        - Committed(core)

- TransitionObject (TODO: discuss this)
    - transition hash - PK
    - coreGA
    - blockHash
    - kernel hash
    - latest observation of origin
    - dynasty
    - accumulated gas
    - committeeSolution
    - status
        - broadcasted
        - calculated
        - proposed

- CoConsensusi (TODO: discuss this)
    - CoreGA
    - (metachainId)

- Block (TODO: discuss this, may be add all block headers)
    - metachainid
    - blockhash
    - blocknumber
    - parentblockhash
    - timestamp
    - uncleshash
    - gasused
    - stateroot
    - transactionroot
    - receiptroot
    - isLeaf